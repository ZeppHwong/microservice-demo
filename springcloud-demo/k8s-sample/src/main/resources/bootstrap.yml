server:
  port: ${PORT:18088}
  servlet:
    context-path: /k8s
spring:
  application:
    name: k8s-sample
  cloud:
    kubernetes:
      ## 希望应用无法正确读取ConfigMap时启动失败，可设置如下参数：
#      fail-fast: true
      reload:
#        The strategy to use when firing a reload (refresh, restart_context, or shutdown)
        strategy: refresh
        #自动更新配置的开关设置为打开
        enabled: true
        #更新配置信息的模式是主动拉取
        mode: polling
        #主动拉取的间隔时间是500毫秒
        period: 1000
      discovery:
        namespaces:
          - default
      config:
        sources:
          # Spring Cloud Kubernetes looks up a ConfigMap named k8s-sample in namespace default-namespace
          - name: k8s-sample-config
            namespace: default
      secrets:
        sources:
          - name: k8s-sample-secret
            namespace: default
management:
  endpoint:
    restart:
      enabled: true
  endpoints:
    web:
      exposure:
        include: "*"
        exclude: "env,beans,shutdown"
  # spring boot version is 2.6 or above need to set enable
  info:
    env:
      enabled: true
